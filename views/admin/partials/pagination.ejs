<% if (typeof pagination !== 'undefined' && pagination.totalPages > 1) { %>
    <div class="card-footer">
        <nav aria-label="Page navigation">
            <ul class="pagination justify-content-center mb-0">
                <li class="page-item <%= pagination.page === 1 ? 'disabled' : '' %>">
                    <a class="page-link" href="?page=<%= pagination.page - 1 %>&search=<%= filters.search %>&role=<%= filters.role %>">Նախորդ</a>
                </li>
                <%
                    let startPage = Math.max(1, pagination.page - 2);
                    let endPage = Math.min(pagination.totalPages, pagination.page + 2);

                    if (startPage > 1) { %>
                        <li class="page-item">
                            <a class="page-link" href="?page=1&search=<%= filters.search %>&role=<%= filters.role %>">1</a>
                        </li>
                        <% if (startPage > 2) { %>
                            <li class="page-item disabled"><span class="page-link">...</span></li>
                        <% } %>
                    <% }

                    for(let i = startPage; i <= endPage; i++) { %>
                        <li class="page-item <%= pagination.page === i ? 'active' : '' %>">
                            <a class="page-link" href="?page=<%= i %>&search=<%= filters.search %>&role=<%= filters.role %>"><%= i %></a>
                        </li>
                    <% }

                    if (endPage < pagination.totalPages) { %>
                        <% if (endPage < pagination.totalPages - 1) { %>
                            <li class="page-item disabled"><span class="page-link">...</span></li>
                        <% } %>
                        <li class="page-item">
                            <a class="page-link" href="?page=<%= pagination.totalPages %>&search=<%= filters.search %>&role=<%= filters.role %>"><%= pagination.totalPages %></a>
                        </li>
                    <% }
                %>
                <li class="page-item <%= pagination.page === pagination.totalPages ? 'disabled' : '' %>">
                    <a class="page-link" href="?page=<%= pagination.page + 1 %>&search=<%= filters.search %>&role=<%= filters.role %>">Հաջորդ</a>
                </li>
            </ul>
        </nav>
    </div>
<% } %>